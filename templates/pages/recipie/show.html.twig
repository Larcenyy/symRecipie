{% extends 'base.html.twig' %}

{% block title %}Sym |  {{ recipe.name }} {% endblock %}

{% block body %}

        <div class="container py-5">
            {% for message in app.flashes('success') %}
                <div class="alert mt-4 alert-dismissible alert-success">
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    {{ message }}
                </div>
            {% endfor %}


            {% for message in app.flashes('error') %}
                <div class="alert mt-4 alert-dismissible alert-danger">
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    {{ message }}
                </div>
            {% endfor %}

            {% if recipe.average %}
                <span class="badge bg-danger">La moyenne de note est de : {{ recipe.average|number_format(2) }} / 5</span>
            {% else %}
                <span class="badge bg-danger">Avis insuffisant pour donner une note</span>
            {% endif %}
            <h1 class="mt-4">{{ recipe.name }}</h1>


            <span class="badge bg-primary">Créer le : {{ recipe.createdAt|date('d/m/y') }}</span>
            <div class="mt-3">
                {% if recipe.time %}
                    <p><strong>{{ recipe.time }}</strong>, temps éstimé pour cette résultat</p>
                {% endif %}


                {% if recipe.price %}
                    <p><strong>Prix (en €) : </strong> {{ recipe.price }} </p>
                {% else %}
                    <p><strong>Prix (en €) : </strong> Non renseigné </p>
                {% endif %}


                {% if recipe.difficulty %}
                    <p><strong>Difficulté level :</strong> {{ recipe.difficulty }}</p>
                {% else %}
                    <p><strong>Difficulté level :</strong> Non renseigné </p>
                {% endif %}


                {% if recipe.nbPeople %}
                    <p><strong>Personne :</strong> {{ recipe.nbPeople }}</p>
                {% else %}
                    <p><strong>Personne :</strong> Non renseigné </p>
                {% endif %}


                {% if recipe.price %}
                    <p><strong>Prix (en €) : </strong> {{ recipe.price }} </p>
                {% else %}
                    <p><strong>Prix (en €) : </strong> Non renseigné </p>
                {% endif %}

                {% if recipe.description %}
                    <p><strong>Descriptions : </strong> {{ recipe.description|raw }} personne</p>
                {% else %}
                    <p><strong>Descriptions : </strong> Non renseigné </p>
                {% endif %}

                {{ form_start(form) }}
                    <div class="mt-3 py-4">
                        <h3>Ingrédient nécessaire:</h3>
                        {% for ingredient in recipe.ingredients %}
                            <span class="badge bg-success">{{ ingredient.name }}</span>
                        {% endfor %}
                    </div>

                    {{ form_row(form.mark) }}
                    <div class="form-group">
                        {{ form_row(form.submit) }}
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
{% endblock %}
